import{r as o,g as i,j as e,b as N,B as b,e as y,u as k,S}from"./index-DNWIIfjW.js";import{T as E}from"./Transition-BkINXvr0.js";function P({images:s=[]}){const[c,l]=o.useState(0),r=o.useRef(),u=o.useRef(),j=o.useRef(),v=o.useRef(0),a=o.useRef(0),h=o.useCallback((t,n="next")=>{t<0&&(t=s.length-1),t>=s.length&&(t=0);const d=r.current.children,g=d[c],x=d[t],f=n==="next"?100:-100;i.set(x,{xPercent:f,opacity:1,scale:.95}),i.timeline().to(g,{xPercent:-f,opacity:0,scale:.95,duration:.6,ease:"power3.inOut"}).to(x,{xPercent:0,scale:1,duration:.6,ease:"power3.inOut"},"<"),l(t)});return o.useEffect(()=>{const t=r.current.children;i.set(t,{opacity:0,scale:.95,xPercent:100}),t[0]&&i.set(t[0],{opacity:1,scale:1,xPercent:0})},[]),o.useEffect(()=>{if(!(!s||s.length<=1))return j.current=setTimeout(()=>h(c+1,"next"),s.length===1?0:7e3),()=>clearTimeout(j.current)},[c]),o.useEffect(()=>{const t=u.current;if(!t)return;let n,d;const g=p=>{s.length<=1||(v.current=p.touches[0].clientX,n=r.current.children[c])},x=p=>{if(s.length<=1)return;a.current=p.touches[0].clientX-v.current;const w=a.current/t.clientWidth*100;i.set(n,{xPercent:w});let m=a.current<0?c+1:c-1;m<0&&(m=s.length-1),m>=s.length&&(m=0),d=r.current.children[m],i.set(d,{xPercent:w+(a.current<0?100:-100),opacity:1})},f=()=>{const p=t.clientWidth*.15;Math.abs(a.current)>p?h(a.current<0?c+1:c-1,a.current<0?"next":"prev"):(i.to(n,{xPercent:0,duration:.3,ease:"power3.out"}),d&&i.to(d,{xPercent:a.current<0?100:-100,duration:.3,ease:"power3.out"})),a.current=0};return t.addEventListener("touchstart",g,{passive:!0}),t.addEventListener("touchmove",x,{passive:!0}),t.addEventListener("touchend",f),()=>{t.removeEventListener("touchstart",g),t.removeEventListener("touchmove",x),t.removeEventListener("touchend",f)}},[h,c,s.length]),e.jsx("div",{className:"relative w-full overflow-hidden select-none",ref:u,children:e.jsxs("div",{className:"relative w-full h-[360px] md:h-[420px]",children:[e.jsx("div",{className:"absolute inset-0 w-full h-full flex",ref:r,children:s.map((t,n)=>e.jsx("div",{className:"flex-shrink-0 w-full h-full flex items-center justify-center bg-[var(--color-white)] courser-pointer cursor-white cursor-scale-3",style:{position:"absolute",top:0,left:0},children:e.jsx(N,{src:t,alt:`Slide ${n+1}`,className:"object-cover",wrapperClass:"w-full h-full"})},n))}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 z-20",children:e.jsx(b,{className:"bg-gray-b/50 hover:bg-gray-b transition-colors border-0",onClick:()=>h(c-1,"prev"),children:e.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M15 6L9 12l6 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"square"})})})}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 z-20",children:e.jsx(b,{className:"bg-gray-b/50 hover:bg-gray-b transition-colors border-0",onClick:()=>h(c+1,"next"),children:e.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M9 6l6 6-6 6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"square"})})})})]}),e.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2 z-20",children:s.length>1&&e.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2 z-20",children:s.map((t,n)=>e.jsx("button",{onClick:()=>h(n,n>c?"next":"prev"),className:`w-3 h-3 ${n===c?"bg-[var(--color-gray-b)]":"bg-[var(--color-gray-a)]"}`,style:{borderRadius:0}},n))})})]})})}function R(){const{id:s}=y(),l=k(r=>r.projects.projects).find(r=>r.id===s);return l?e.jsx(E,{children:e.jsx("section",{className:"w-full px-4 py-12",id:"projects",children:e.jsxs("div",{className:"app-container mx-auto pt-[30px] md:py-[60px]",children:[e.jsx(S,{hash:"/",title:l.title,buttonText:"back to works",link:"/works"}),e.jsx("p",{className:"mt-[-20px] md:mb-[50px]",children:l.subtitle}),e.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[e.jsx("div",{className:"w-full cursor-pointer cursor-white cursor-scale-3",children:e.jsx(P,{className:"cursor-pointer cursor-white cursor-scale-3",images:l.media.map(r=>l.imageUrl.split("/").slice(0,-1).join("/")+"/"+r)})}),e.jsxs("div",{className:"w-full flex flex-col gap-4",children:[e.jsx("div",{className:"leading-relaxed space-y-2",children:l.description.map((r,u)=>Array.isArray(r)?e.jsx("ul",{className:"list-disc list-inside cursor-pointer cursor-white cursor-scale-2",children:r.map((j,v)=>e.jsx("li",{children:j},v))},u):e.jsx("p",{className:"text-large cursor-pointer cursor-white cursor-scale-2",children:r},u))}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.technologies.map((r,u)=>e.jsx("span",{className:"cursor-pointer cursor-scale-0 px-2.5 py-0.5 bg-gray-a/20 hover:scale-110 hover:bg-primary/20 transition-all",children:r},u))}),e.jsxs("div",{className:"flex gap-4 mt-2",children:[l.projectUrl&&e.jsx(b,{onClick:()=>window.open(l.projectUrl,"_blank"),primary:!0,children:"Live <~>"}),l.githubUrl&&e.jsx(b,{className:"cursor-scale-0 cursor-pointer",onClick:()=>window.open(l.githubUrl,"_blank"),children:"Github >="})]})]})]})]})})}):e.jsx("p",{className:"p-6",children:"Project not found."})}export{R as default};
